{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template core_course/defaultactivitycompletion

    Activity completion selector.

    Example context (json):
    {
        "courseid": "2",
        "sesskey": "AAAAAA",
        "modules": [{
            "id": "10",
            "formattedname": "Assignment",
            "canmanage": true,
            "icon": "https://raw.githubusercontent.com/moodle/moodle/master/mod/assign/pix/monologo.png",
            "completionstatus": {
                "string": "Manual",
                "icon": "https://raw.githubusercontent.com/moodle/moodle/master/pix/i/completion-manual-enabled.png"
            }
        }]
    }
}}
<div class="container-fluid">
    <div class="row mb-5">
        <div class="col">{{#str}}defaultactivitycompletion, core_completion{{/str}}</div>
    </div>

    <div class="modules">
        {{#modules}}
            {{#canmanage}}
                <div class="activitycompletion-item d-flex"
                    id="activitycompletion-{{id}}"
                >
                    <a data-toggle="collapse"
                        href="#activitycompletioncollapse-{{id}}"
                        class="icons-collapse-expand collapsed"
                        aria-expanded="false"
                        role="button"
                    >
                        <span class="collapsed-icon icon-no-margin mr-1"
                            title="{{#str}} expandcategory, core, {{formattedname}} {{/str}}">
                            <span class="dir-rtl-hide">{{#pix}} t/collapsedchevron, core {{/pix}}</span>
                            <span class="dir-ltr-hide">{{#pix}} t/collapsedchevron_rtl, core {{/pix}}</span>
                            <span class="sr-only">{{#str}} expandcategory, core, {{formattedname}} {{/str}}</span>
                        </span>
                        <span class="expanded-icon icon-no-margin mr-1"
                            title="{{#str}} collapsecategory, core, {{formattedname}} {{/str}}">
                            {{#pix}} t/expandedchevron, core {{/pix}}
                            <span class="sr-only">{{#str}} collapsecategory, core, {{formatedname}} {{/str}}</span>
                        </span>
                        <img class="iconlarge activityicon ml-4" src="{{icon}}" alt=" " role="presentation" />
                        <span class="ml-3">{{{formattedname}}}</span>
                    </a>
                </div>
                <div id="activitycompletioncollapse-{{id}}"
                    class="activitycompletion-item-content collapse"
                    aria-labelledby="activitycompletion-{{id}}" role="group"
                >
                    <hr class="row">
                    <div class="py-3">{{{formhtml}}}</div>
                </div>

                <hr class="row">
            {{/canmanage}}
        {{/modules}}
    </div>
</div>
