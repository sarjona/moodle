define ("core_contentbank/actions",["jquery","core/ajax","core/notification","core/str","core/url","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f,g){var i={DELETE_CONTENT:"[data-action=\"deletecontent\"]"},j=function(){this.registerEvents()};j.prototype.registerEvents=function(){a(i.DELETE_CONTENT).click(function(b){b.preventDefault();var e=a(this).data("contentname"),i=a(this).data("contentid"),j="";d.get_strings([{key:"deletecontent",component:"core_contentbank"},{key:"deletecontentconfirm",component:"core_contentbank",param:{name:e}},{key:"delete",component:"core"}]).then(function(a){var b=a[0],c=a[1];j=a[2];return f.create({title:b,body:c,type:f.types.SAVE_CANCEL,large:!0})}).done(function(a){a.setSaveButtonText(j);a.getRoot().on(g.save,function(){return h(i)});a.getRoot().on(g.hidden,function(){a.destroy()});a.show()}).fail(c.exception)})};function h(a){var f="success";b.call([{methodname:"core_contentbank_delete_content",args:{contentid:a}}])[0].then(function(a){if(a){return d.get_string("contentdeleted","core_contentbank")}f="error";return d.get_string("contentnotdeleted","core_contentbank")}).done(function(a){var b=null;if("success"==f){b={statusmsg:a}}else{b={errormsg:a}}window.location.href=e.relativeUrl("contentbank/index.php",b,!1)}).fail(c.exception)}return{init:function init(){return new j}}});
//# sourceMappingURL=actions.min.js.map
